scale_x_discrete(limits = c("Marcha LGBT", "Dua Lipa", "Coldplay", "Feriado mundial", "Feria del Libro", "Dia Promedio")) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = c("Marcha LGBT", "Dua Lipa", "Coldplay", "Feriado mundial", "Feria del Libro", "Dia Promedio"))
gr_Eventos_Dia_De_Semana
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = c("Marcha LGBT", "Dua Lipa", "Coldplay", "Feriado mundial", "Feria del Libro", "Dia Promedio"))
gr_Eventos_Dia_De_Semana
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = c("Marcha LGBT", "Dua Lipa", "Coldplay", "Feriado mundial", "Feria del Libro", "Dia Promedio")) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = c("Marcha LGBT", "Dua Lipa", "Coldplay", "Feriado mundial", "Feria del Libro", "Dia Promedio"))
#visualizacion de usos de bicis promedio comparado con dias de eventos (fin de semana)
gr_Eventos_Fin_De_Semana <- df_Viajes_Promedio_Eventos_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis diarios fin de semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el fin de semana") +
scale_x_discrete(limits = c("Comic Con", "Mundial", "Primavera Sound", "Coldplay", "Feria del Libro", "Dia Promedio")) +
scale_fill_manual(values = c("Comic Con" = "#ef476f",
"Mundial" = "#f78c6b",
"Primavera Sound" = "#ffd166",
"Coldplay" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = c("Comic Con", "Mundial", "Primavera Sound", "Coldplay", "Feria del Libro", "Dia Promedio"))
gr_Eventos_Dia_De_Semana
#visualizacion de usos de bicis promedio comparado con dias de eventos (fin de semana)
gr_Eventos_Fin_De_Semana <- df_Viajes_Promedio_Eventos_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis diarios fin de semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el fin de semana") +
scale_x_discrete(limits = v_eventos_finde_ord) +
scale_fill_manual(values = c("Comic Con" = "#ef476f",
"Mundial" = "#f78c6b",
"Primavera Sound" = "#ffd166",
"Coldplay" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_finde_ord)
v_eventos_ord <- c("Marcha LGBT", "Dua Lipa", "Coldplay", "Feriado mundial", "Feria del Libro", "Dia Promedio")
v_eventos_finde_ord <- c("Comic Con", "Mundial", "Primavera Sound", "Coldplay", "Feria del Libro", "Dia Promedio")
#visualizacion de usos de bicis promedio comparado con dias de eventos (fin de semana)
gr_Eventos_Fin_De_Semana <- df_Viajes_Promedio_Eventos_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis diarios fin de semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el fin de semana") +
scale_x_discrete(limits = v_eventos_finde_ord) +
scale_fill_manual(values = c("Comic Con" = "#ef476f",
"Mundial" = "#f78c6b",
"Primavera Sound" = "#ffd166",
"Coldplay" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_finde_ord)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_ord)
gr_Eventos_Dia_De_Semana
gr_Eventos_Fin_De_Semana
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
v_bicisFeriadoMundial
# Feriado Mundial
v_bicisFeriadoDelMundial <- as.numeric(df_bike_trips_2022_reformed %>%
filter(date == v_feriado_del_Mundial) %>%
summarise(cantidad = round(n()/length(v_feriado_del_Mundial))))
v_feriado_del_Mundial <- c("2022-12-20")
# Feriado Mundial
v_bicisFeriadoDelMundial <- as.numeric(df_bike_trips_2022_reformed %>%
filter(date == v_feriado_del_Mundial) %>%
summarise(cantidad = round(n()/length(v_feriado_del_Mundial))))
v_bicisFeriadoDelMundial
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado del mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_ord)
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
gr_Eventos_Dia_De_Semana
#viajes diarios durante los eventos que ocurrieron durante dias de la semana mayoritariamente
df_Viajes_Promedio_Eventos_No_Finde <- data.frame(evento = c("Feria del Libro","Dua Lipa","Marcha LGBT","Coldplay","Feriado del mundial", "Dia Promedio"),
viajesPorEvento = c(v_bicisFeriaDelLibro, v_bicisDuaLipa, v_bicisMarchaLGBT, v_bicisColdplay,v_bicisFeriadoDelMundial, v_dia_promedio))
df_Viajes_Promedio_Eventos_No_Finde
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado del mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_ord)
gr_Eventos_Dia_De_Semana
v_eventos_ord <- c("Marcha LGBT", "Dua Lipa", "Coldplay", "Feriado del mundial", "Feria del Libro", "Dia Promedio")
v_eventos_finde_ord <- c("Comic Con", "Mundial", "Primavera Sound", "Coldplay", "Feria del Libro", "Dia Promedio")
v_bicisFeriadoDelMundial
df_Viajes_Promedio_Eventos_No_Finde
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado del mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_ord)
gr_Eventos_Dia_De_Semana
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
source(file = "Script_TP1.R", local = TRUE)
head(df_bike_trips_2022_reformed)
summary(df_bike_trips_2022_reformed)
str(df_bike_trips_2022_reformed)
head(df_clima_aeroparque_BA_2022_reformed)
summary(df_clima_aeroparque_BA_2022_reformed)
str(df_clima_aeroparque_BA_2022_reformed)
gr_trips_duration_in_minutes_box
gr_trips_duration_in_minutes_col
df_promedio_y_mediana_de_viajes
gr_trips_by_month
gr_trips_by_day
gr_trips_by_hour
gr_trips_by_day_and_hour
gr_trips_by_month_and_hour
gr_trips_by_season_and_hour
gr_viajes_promedio_feriados
df_origin_trip
df_destination_trip
df_common_trips
gr_bike_type
gr_bike_type_boxplot
gr_use_of_bikes_by_gender
gr_use_of_bikes_by_gender_per_hour
gr_trips_duration_in_minutes_by_gender
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
gr_temperatura_por_dia
gr_temperatura_por_mes
gr_precipitaciones_por_mes
#precipitaciones por mes
gr_precipitaciones_por_mes <- df_clima_aeroparque_BA_2022_reformed %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col(fill = "#386fa4", colour = "#133c55") +
labs(x = "Mes",y = "Precipitacion (mm)", title = "Precipitaciones por mes")
gr_precipitaciones_por_mes
gr_bikes_by_temp
gr_uso_de_bicis_segun_precipitaciones
gr_potencia_lluvia_2022
gr_duracion_recorrido_segun_lluvia
source(file = "Script_TP1.R", local = TRUE)
gr_potencia_lluvia_2022 <- df_bikes_and_weather %>%
filter(rain_strength != "no llovio") %>%
ggplot(mapping = aes(x = fct_relevel(rain_strength, v_rain_strength), fill = rain_strength)) +
geom_bar() +
labs(x = "", y = "cantidad de viajes", fill = "Tipo de lluvia")
gr_potencia_lluvia_2022 <- df_bikes_and_weather %>%
filter(rain_strength != "no llovio") %>%
ggplot(mapping = aes(x = fct_relevel(rain_strength, v_rain_strength), fill = rain_strength)) +
geom_bar() +
labs(x = "", y = "cantidad de viajes", fill = "Tipo de lluvia")
gr_potencia_lluvia_2022
#cantidad de dias de lluvia
v_rain_strength <- c("debil", "ligera", "moderada", "fuerte", "torrencial")
gr_potencia_lluvia_2022
gr_duracion_recorrido_segun_lluvia <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
filter(!is.na(duracion_recorrido)) %>%
group_by(rain_strength) %>%
ggplot(mappin = aes(x = fct_relevel(rain_strength, v_rain_strength), y = duracion_recorrido, color = rain_strength)) +
geom_boxplot() +
labs(x = "", y = "Duracion", title = "Duracion de los recorridos segun lluvia", color = "Tipo de lluvia")
gr_duracion_recorrido_segun_lluvia
v_months
gr_trips_by_month
#visualizacion de viajes por mes
gr_trips_by_month <- df_bike_trips_2022_reformed %>%
ggplot(mapping = aes(x = fct_relevel(month, v_months))) +
geom_bar(fill = "mintcream", colour = "lightskyblue") +
labs(x = "Mes", y = "Cantidad", title = "Cantidad de recorridos durante cada mes del año")
gr_trips_by_month
df_Viajes_Promedio_Eventos_No_Finde
#viajes diarios durante los eventos que ocurrieron durante dias de la semana mayoritariamente
df_Viajes_Promedio_Eventos_No_Finde <- data.frame(evento = v_eventos_ord,
viajesPorEvento = c(v_bicisFeriaDelLibro,
v_bicisDuaLipa,
v_bicisMarchaLGBT,
v_bicisColdplay,
v_bicisFeriadoDelMundial,
v_dia_promedio))
df_Viajes_Promedio_Eventos_No_Finde
#viajes diarios durante los eventos que ocurrieron durante dias de fin de semana mayoritariamente
df_Viajes_Promedio_Eventos_Finde <- data.frame(evento = v_eventos_finde_ord,
viajesPorEvento = c(v_bicisComicCon,
v_bicisPrimSound,
v_bicisFinalMundial,
v_bicisColdplay_finde,
v_bicisFeriaDelLibro_finde,
v_dia_finde_promedio))
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado del mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_ord)
gr_Eventos_Dia_De_Semana
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado del mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"))
gr_Eventos_Dia_De_Semana
v_all_days <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
gr_trips_by_day
#visualizacion de viajes por dia
gr_trips_by_day <- df_bike_trips_2022_reformed %>%
ggplot(mapping = aes(x = fct_relevel(week_day, v_all_days)))+
geom_bar(fill = "mintcream", colour = "lightskyblue") +
labs(x = "Dia de la semana", y = "Cantidad", title = "Cantidad de recorridos durante cada dia de la semana")
gr_trips_by_day
#visualizacion de viajes por dia y hora
gr_trips_by_day_and_hour <- df_bike_trips_2022_reformed %>%
group_by(week_day) %>%
ggplot(mapping = aes(x = hour)) +
geom_bar(fill = "#CBA872",color = "#A05806") +
facet_wrap(~fct_relevel(week_day, v_all_days), nrow = 2) +
labs(x = "Horario", y = "Cantidad", title = "Cantidad de recorricos por dia segun horario")
#precipitaciones por mes
gr_precipitaciones_por_mes <- df_clima_aeroparque_BA_2022_reformed %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, v_months), y = precipitation_by_month)) +
geom_col(fill = "#386fa4", colour = "#133c55") +
labs(x = "Mes",y = "Precipitacion (mm)", title = "Precipitaciones por mes")
gr_precipitaciones_por_mes
source(file = "Script_TP1.R", local = TRUE)
head(df_bike_trips_2022_reformed)
summary(df_bike_trips_2022_reformed)
str(df_bike_trips_2022_reformed)
head(df_clima_aeroparque_BA_2022_reformed)
summary(df_clima_aeroparque_BA_2022_reformed)
str(df_clima_aeroparque_BA_2022_reformed)
gr_trips_duration_in_minutes_box
gr_trips_duration_in_minutes_col
df_promedio_y_mediana_de_viajes
gr_trips_by_month
gr_trips_by_day
gr_trips_by_hour
gr_trips_by_day_and_hour
gr_trips_by_month_and_hour
gr_trips_by_season_and_hour
gr_viajes_promedio_feriados
df_origin_trip
df_destination_trip
df_common_trips
gr_bike_type
gr_bike_type_boxplot
gr_use_of_bikes_by_gender
gr_use_of_bikes_by_gender_per_hour
gr_trips_duration_in_minutes_by_gender
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
gr_temperatura_por_dia
gr_temperatura_por_mes
gr_precipitaciones_por_mes
gr_bikes_by_temp
gr_uso_de_bicis_segun_precipitaciones
gr_potencia_lluvia_2022
gr_duracion_recorrido_segun_lluvia
source(file = "Script_TP1.R", local = TRUE)
head(df_bike_trips_2022_reformed)
summary(df_bike_trips_2022_reformed)
str(df_bike_trips_2022_reformed)
head(df_clima_aeroparque_BA_2022_reformed)
head(df_clima_aeroparque_BA_2022_reformed)
summary(df_clima_aeroparque_BA_2022_reformed)
str(df_clima_aeroparque_BA_2022_reformed)
gr_trips_duration_in_minutes_box
gr_trips_duration_in_minutes_col
df_promedio_y_mediana_de_viajes
gr_trips_by_month
gr_trips_by_day
gr_trips_by_hour
gr_trips_by_day_and_hour
gr_trips_by_month_and_hour
gr_trips_by_season_and_hour
gr_viajes_promedio_feriados
df_origin_trip
df_destination_trip
df_common_trips
gr_bike_type
gr_bike_type_boxplot
gr_use_of_bikes_by_gender
gr_use_of_bikes_by_gender_per_hour
gr_trips_duration_in_minutes_by_gender
gr_Eventos_Fin_De_Semana
gr_Eventos_Dia_De_Semana
gr_temperatura_por_dia
gr_temperatura_por_mes
#grafico de temperaturas por mes
gr_temperatura_por_mes <- df_clima_aeroparque_BA_2022_reformed %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
pivot_longer(cols = 2:4, names_to = "tipo", values_to = "temp") %>%
ggplot(mapping = aes(x = fct_relevel(month, v_months), y = temp, fill = fct_relevel(tipo, "tmax_by_month"))) +
geom_bar(stat = "identity", position = "dodge") +
labs(title = "Clima promedio segun mes", x = "Mes", y = "Temperatura", fill = "Temp") +
scale_fill_manual(values = c("tmax_by_month" = "#ee6055", "tavg_by_month" = "#255f85", "tmin_by_month" = "#60d394"), labels = c("Max Temp", "Avg Temp", "Min Temp")) +
theme(legend.position = "bottom")
gr_temperatura_por_mes
gr_precipitaciones_por_mes
gr_precipitaciones_por_mes
gr_bikes_by_temp
gr_uso_de_bicis_segun_precipitaciones
gr_potencia_lluvia_2022
gr_duracion_recorrido_segun_lluvia
gr_temperatura_por_mes
df_clima_aeroparque_BA_2022_reformed %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg))
df_clima_aeroparque_BA_2022_reformed %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
pivot_longer(cols = 2:4, names_to = "tipo", values_to = "temp")
#grafico de temperaturas por mes
gr_temperatura_por_mes <- df_clima_aeroparque_BA_2022_reformed %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
pivot_longer(cols = 2:4, names_to = "tipo", values_to = "temp") %>%
ggplot(mapping = aes(x = fct_relevel(month, v_months), y = temp, fill = fct_relevel(tipo, "tmax_by_month", "tavg_by_month"))) +
geom_bar(stat = "identity", position = "dodge") +
labs(title = "Clima promedio segun mes", x = "Mes", y = "Temperatura", fill = "Temp") +
scale_fill_manual(values = c("tmax_by_month" = "#ee6055", "tavg_by_month" = "#255f85", "tmin_by_month" = "#60d394"), labels = c("Max Temp", "Avg Temp", "Min Temp")) +
theme(legend.position = "bottom")
gr_temperatura_por_mes
#grafico de temperaturas por mes
gr_temperatura_por_mes <- df_clima_aeroparque_BA_2022_reformed %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
pivot_longer(cols = 2:4, names_to = "tipo", values_to = "temp") %>%
ggplot(mapping = aes(x = fct_relevel(month, v_months), y = temp, fill = fct_relevel(tipo, "tmax_by_month", "tavg_by_month"))) +
geom_bar(stat = "identity", position = "dodge") +
labs(title = "Clima promedio segun mes", x = "Mes", y = "Temperatura", fill = "Temp") +
scale_fill_manual(values = c("tmax_by_month" = "#ee6055", "tavg_by_month" = "#60d394", "tmin_by_month" = "#255f85"), labels = c("Max Temp", "Avg Temp", "Min Temp")) +
theme(legend.position = "bottom")
gr_temperatura_por_mes
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado del mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_ord)
gr_Eventos_Dia_De_Semana
df_Viajes_Promedio_Eventos_No_Finde
v_eventos_ord
#viajes diarios durante los eventos que ocurrieron durante dias de la semana mayoritariamente
df_Viajes_Promedio_Eventos_No_Finde <- data.frame(evento = v_eventos_ord,
viajesPorEvento = c(v_bicisMarchaLGBT,
v_bicisDuaLipa,
v_bicisColdplay,
v_bicisFeriadoDelMundial,
v_bicisFeriaDelLibro,
v_dia_promedio))
df_Viajes_Promedio_Eventos_No_Finde
v_eventos_finde_ord
#viajes diarios durante los eventos que ocurrieron durante dias de fin de semana mayoritariamente
df_Viajes_Promedio_Eventos_Finde <- data.frame(evento = v_eventos_finde_ord,
viajesPorEvento = c(v_bicisComicCon,
v_bicisFinalMundial,
v_bicisPrimSound,
v_bicisColdplay_finde,
v_bicisFeriaDelLibro_finde,
v_dia_finde_promedio))
df_Viajes_Promedio_Eventos_Finde
#visualizacion de usos de bicis promedio comparado con dias de eventos (dias de semana)
gr_Eventos_Dia_De_Semana <- df_Viajes_Promedio_Eventos_No_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis dias de la semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el lunes y viernes") +
scale_x_discrete(limits = v_eventos_ord) +
scale_fill_manual(values = c("Marcha LGBT" = "#ef476f",
"Dua Lipa" = "#f78c6b",
"Coldplay" = "#ffd166",
"Feriado del mundial" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_ord)
gr_Eventos_Dia_De_Semana
#visualizacion de usos de bicis promedio comparado con dias de eventos (fin de semana)
gr_Eventos_Fin_De_Semana <- df_Viajes_Promedio_Eventos_Finde %>%
ggplot(mapping = aes(x = evento, y = viajesPorEvento, fill = evento)) +
geom_col() +
labs(x = "Eventos/Dia Promedio", y = "Viajes diarios", title = "Uso de bicis diarios fin de semana 'Eventos'", subtitle = "Cantidad de usos de bicis diarios durante dias normales y dias de evento que ocurrieron durante el fin de semana") +
scale_x_discrete(limits = v_eventos_finde_ord) +
scale_fill_manual(values = c("Comic Con" = "#ef476f",
"Mundial" = "#f78c6b",
"Primavera Sound" = "#ffd166",
"Coldplay" = "#06d6a0",
"Feria del Libro" =  "#118ab2",
"Dia Promedio" = "#073b4c"),
breaks = v_eventos_finde_ord)
gr_Eventos_Fin_De_Semana
#visualizacion de viajes por mes
gr_trips_by_month <- df_bike_trips_2022_reformed %>%
ggplot(mapping = aes(x = fct_relevel(month, v_months))) +
geom_bar(fill = "#B6C8D9", colour = "#6FA3AE") +
labs(x = "Mes", y = "Cantidad", title = "Cantidad de recorridos durante cada mes del año")
#visualizacion de viajes por dia
gr_trips_by_day <- df_bike_trips_2022_reformed %>%
ggplot(mapping = aes(x = fct_relevel(week_day, v_all_days)))+
geom_bar(fill = "#B6C8D9", colour = "#6FA3AE") +
labs(x = "Dia de la semana", y = "Cantidad", title = "Cantidad de recorridos durante cada dia de la semana")
#visualizacion de viajes por hora
gr_trips_by_hour <- df_bike_trips_2022_reformed %>%
ggplot(mapping = aes(x = hour)) +
geom_bar(fill = "#B6C8D9", colour = "#6FA3AE") +
labs(x = "Horario", y = "Cantidad", title = "Cantidad de recorridos durante cada hora del dia")
gr_trips_by_month
gr_trips_by_day
gr_trips_by_hour
gr_trips_by_month
gr_trips_by_day
gr_trips_by_hour
source(file = "Script_TP1.R", local = TRUE)
source(file = "Script_TP1.R", local = TRUE)
library(DT)
DT::datatable(df_bike_trips_2022_reformed)
#| label: tbl-LABEL2
#| tbl-cap: CAPTION
knitr::kable(head(df_clima_aeroparque_BA_2022_reformed))

distinct()
unique_trips <- bike_trips_2022_5_to_60_min %>% select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
summarise(trip = n_distinct())
bike_trips_2022_5_to_60_min %>% select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
summarise(trip = n_distinct())
bike_trips_2022_5_to_60_min %>% select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
summarise(trip = n_distinct(id_estacion_origen, id_estacion_destino))
bike_trips_2022_5_to_60_min %>% select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, id_estacion_destino)
summarise(trip = n_distinct(id_estacion_origen, id_estacion_destino))
bike_trips_2022_5_to_60_min %>% select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, id_estacion_destino) %>%
summarise(trip = n_distinct(id_estacion_origen, id_estacion_destino))
bike_trips_2022_5_to_60_min %>% select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, id_estacion_destino) %>%
summarise(amount_by_station = n_distinct(id_estacion_origen, id_estacion_destino)) %>%
arrange(desc(amount_by_station))
View(bike_trips_2022_5_to_60_min)
bike_trips_2022_5_to_60_min %>% select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, id_estacion_destino)
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, id_estacion_destino) %>%
summarise(amount = n())
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, id_estacion_destino) %>%
summarise(amount = n()) %>%
arrange(desc(amount))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount = n()) %>%
arrange(desc(amount))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount_by_station = n(), media = mean(amount_by_station)) %>%
arrange(desc(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station)) %>%
summarise(mean = mean(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station)) %>%
ungroup() %>%
summarise(mean = mean(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station))
View(clima_aeroparque_BA_2022)
month_trip <- clima_aeroparque_BA_2022 %>%
mutate(month = months(date))
View(month_trip)
month_climate <- clima_aeroparque_BA_2022 %>%
mutate(month = months(date))
month_climate <- clima_aeroparque_BA_2022 %>%
mutate(month = months(date))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = month)) +
geom_line(aes(y = tmax_by_month))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"))))) +
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")))) +
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")))) +
geom_line(aes(y = tmax_by_month))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")))) +
geom_line(aes(y = tmax_by_month))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_line(aes(y = tmax_by_month))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_line()
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point()
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point() +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red") +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month, color = "blue"))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red") +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue")
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red") +
geom_line() +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue")
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red") +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue") +
ggplot(month_climate, aes(x = date, y = tmax)) +
geom_line()
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red") +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue") +
ggplot(month_climate, aes(x = date, y = tmax))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red") +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue")
ggplot(month_climate, aes(x = date, y = tmax)) +
geom_line()
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red") +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue")
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4)
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
?geom_line()
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4) +
geom_line(data = month_climate, aes(x = date, y = tmin), colour = "blue")
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4) +
geom_line(aes(x = month, y = tmin), colour = "blue")
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4) +
geom_line(aes(x = month, y = tmin_by_month), colour = "blue")
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4) +
geom_smooth()
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
?geom_point()
View(month_climate)
month_climate %>%
group_by(month) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col()
month_climate %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col()
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4)
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
colours()
month_climate %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col(fill = "cornsilk2")
month_climate %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col(fill = "lightgoldenrod2", colour = "lightseagreen")
nrow(month_climate)
summary(clima_aeroparque_BA_2022)
class(month_climate$date)
summary(clima_aeroparque_BA_2022)
library(readr)
clima_aeroparque_BA_2022 <- read_csv("Data/Clima_Aeroparque_BA.csv")
View(Clima_Aeroparque_BA)
bike_trips_2022 <- read_csv("Data/trips_2022_reducido.csv")
View(bike_trips_2022)
#install.packages("tidyverse")
library(tidyverse)
bike_trips_2022_5_to_60_min <- bike_trips_2022 %>%
filter(between(duracion_recorrido, left = 60*5, right = 60*60))
summary(bike_trips_2022_5_to_60_min) #ESTO ESTA BIEN PONERLO?
#| label: trip_duration
bike_trips_2022_5_to_60_min %>%
mutate(duracion_recorrido = duracion_recorrido/60) %>%
ggplot(mapping = aes(x = duracion_recorrido)) +
geom_histogram(colour = "#E6AC6E", fill = "beige", bins = 11) +
labs(x = "Duracion", y = "Cantidad", title = "Duracion de los recorridos en minutos")
bike_trips_2022_5_to_60_min %>%
mutate(duracion_recorrido = duracion_recorrido/60) %>%
summarise("viaje promedio" = mean(duracion_recorrido), mediana = median(duracion_recorrido))
month_trip <- bike_trips_2022_5_to_60_min %>%
select(fecha_origen_recorrido) %>%
mutate(month = months(fecha_origen_recorrido))
month_trip %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")))) +
geom_bar(fill = "mintcream", colour = "lightskyblue") +
labs(x = "Mes", y = "Cantidad")
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen) %>%
group_by(id_estacion_origen, nombre_estacion_origen) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount = n()) %>%
arrange(desc(amount))
#install.packages("mapproj")
library(mapproj)
library(maps)
coord_map(projection = "mercator",
xlim = 40,
ylim = 50)
# Prepare a map of NZ
#ggplot(map_data("world"), aes(x = long, y = lat, group = group)) +
# geom_polygon(fill = "white", colour = "black")
#bike_trips_2022_5_to_60_min %>%
# select(long_estacion_origen, lat_estacion_origen) %>%
# distinct() %>%
#ggplot(mapping = aes(x = long_estacion_origen, y = lat_estacion_origen)) +
# geom_point() +
# ggplot(map_data("world"), aes(x = long, y = lat, group = group)) +
# geom_polygon(fill = "white", colour = "black")
library(ggplot2)
library(sf)
# Load spatial data for Buenos Aires province (you may need to replace this with your own data)
# This example uses a simplified shapefile of Buenos Aires province from the 'maps' package.
# You can replace this with your own shapefile or spatial data source.
buenos_aires <- st_read(system.file("shape/argentina/", "buenosaires.geojson", package = "sf"))
library(readr)
clima_aeroparque_BA_2022 <- read_csv("Data/Clima_Aeroparque_BA.csv")
View(Clima_Aeroparque_BA)
bike_trips_2022 <- read_csv("Data/trips_2022_reducido.csv")
View(bike_trips_2022)
#install.packages("tidyverse")
library(tidyverse)
bike_trips_2022_5_to_60_min <- bike_trips_2022 %>%
filter(between(duracion_recorrido, left = 60*5, right = 60*60))
summary(bike_trips_2022_5_to_60_min) #ESTO ESTA BIEN PONERLO?
#| label: trip_duration
bike_trips_2022_5_to_60_min %>%
mutate(duracion_recorrido = duracion_recorrido/60) %>%
ggplot(mapping = aes(x = duracion_recorrido)) +
geom_histogram(colour = "#E6AC6E", fill = "beige", bins = 11) +
labs(x = "Duracion", y = "Cantidad", title = "Duracion de los recorridos en minutos")
bike_trips_2022_5_to_60_min %>%
mutate(duracion_recorrido = duracion_recorrido/60) %>%
summarise("viaje promedio" = mean(duracion_recorrido), mediana = median(duracion_recorrido))
month_trip <- bike_trips_2022_5_to_60_min %>%
select(fecha_origen_recorrido) %>%
mutate(month = months(fecha_origen_recorrido))
month_trip %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")))) +
geom_bar(fill = "mintcream", colour = "lightskyblue") +
labs(x = "Mes", y = "Cantidad")
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen) %>%
group_by(id_estacion_origen, nombre_estacion_origen) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount = n()) %>%
arrange(desc(amount))
#install.packages("mapproj")
#library(mapproj)
#library(maps)
#coord_map(projection = "mercator",
#xlim = 40,
# ylim = 50)
# Prepare a map of NZ
#ggplot(map_data("world"), aes(x = long, y = lat, group = group)) +
# geom_polygon(fill = "white", colour = "black")
#bike_trips_2022_5_to_60_min %>%
# select(long_estacion_origen, lat_estacion_origen) %>%
# distinct() %>%
#ggplot(mapping = aes(x = long_estacion_origen, y = lat_estacion_origen)) +
# geom_point() +
# ggplot(map_data("world"), aes(x = long, y = lat, group = group)) +
# geom_polygon(fill = "white", colour = "black")
library(ggplot2)
library(sf)
# Load spatial data for Buenos Aires province (you may need to replace this with your own data)
# This example uses a simplified shapefile of Buenos Aires province from the 'maps' package.
# You can replace this with your own shapefile or spatial data source.
#buenos_aires <- st_read(system.file("shape/argentina/", "buenosaires.geojson", package = "sf"))
# Create a ggplot map of Buenos Aires province
#buenos_aires_map <- ggplot(buenos_aires) +
#geom_sf() +
#labs(title = "Map of Buenos Aires Province, Argentina") +
#theme_minimal()
# Use coord_quickmap() to create the map with the appropriate aspect ratio
#buenos_aires_map + coord_quickmap()
bike_trips_2022_5_to_60_min %>%
select(modelo_bicicleta) %>%
ggplot(mapping = aes(x = modelo_bicicleta, fill = modelo_bicicleta)) +
geom_bar()
bike_trips_2022_5_to_60_min %>%
select(Género) %>%
filter(!is.na(Género)) %>%
ggplot(mapping = aes(x = Género, fill = Género)) +
geom_bar()
summary(clima_aeroparque_BA_2022)
month_climate <- clima_aeroparque_BA_2022 %>%
mutate(month = months(date))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4)
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
month_climate %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col(fill = "lightgoldenrod2", colour = "lightseagreen")
bike_trips_2022_5_to_60_min <- bike_trips_2022 %>%
filter(between(duracion_recorrido, left = 60*5, right = 60*60))
summary(bike_trips_2022_5_to_60_min) #ESTO ESTA BIEN PONERLO?
#| label: trip_duration
bike_trips_2022_5_to_60_min %>%
mutate(duracion_recorrido = duracion_recorrido/60) %>%
ggplot(mapping = aes(x = duracion_recorrido)) +
geom_histogram(colour = "#E6AC6E", fill = "beige", bins = 11) +
labs(x = "Duracion", y = "Cantidad", title = "Duracion de los recorridos en minutos")
bike_trips_2022_5_to_60_min %>%
mutate(duracion_recorrido = duracion_recorrido/60) %>%
summarise("viaje promedio" = mean(duracion_recorrido), mediana = median(duracion_recorrido))
month_trip <- bike_trips_2022_5_to_60_min %>%
select(fecha_origen_recorrido) %>%
mutate(month = months(fecha_origen_recorrido))
month_trip %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")))) +
geom_bar(fill = "mintcream", colour = "lightskyblue") +
labs(x = "Mes", y = "Cantidad")
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen) %>%
group_by(id_estacion_origen, nombre_estacion_origen) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount_by_station = n()) %>%
arrange(desc(amount_by_station))
bike_trips_2022_5_to_60_min %>%
select(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
group_by(id_estacion_origen, nombre_estacion_origen, id_estacion_destino, nombre_estacion_destino) %>%
summarise(amount = n()) %>%
arrange(desc(amount))
bike_trips_2022_5_to_60_min %>%
select(modelo_bicicleta) %>%
ggplot(mapping = aes(x = modelo_bicicleta, fill = modelo_bicicleta)) +
geom_bar()
bike_trips_2022_5_to_60_min %>%
select(Género) %>%
filter(!is.na(Género)) %>%
ggplot(mapping = aes(x = Género, fill = Género)) +
geom_bar()
month_climate <- clima_aeroparque_BA_2022 %>%
mutate(month = months(date))
```{r}
summary(clima_aeroparque_BA_2022)
month_climate <- clima_aeroparque_BA_2022 %>%
mutate(month = months(date))
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4)
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
month_climate %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4)
month_climate %>% ggplot(mapping = aes(x = date, y = tmax)) +
geom_line(colour = "red") +
geom_line(aes(y = tmin), colour = "blue")
month_climate %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col(fill = "lightgoldenrod2", colour = "lightseagreen")
detach("package:sf", unload = TRUE)
detach("package:maps", unload = TRUE)
detach("package:forcats", unload = TRUE)
detach("package:ggmap", unload = TRUE)
detach("package:mapproj", unload = TRUE)
detach("package:osmdata", unload = TRUE)
gc()

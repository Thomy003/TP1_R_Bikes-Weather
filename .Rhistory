select(modelo_bicicleta) %>%
ggplot(mapping = aes(x = modelo_bicicleta, fill = modelo_bicicleta)) +
geom_bar() +
labs(x = "Modelo de bicicleta", y = "Cantidad de recorridos")
gr_bike_type
#uso de bicis por genero
gr_use_of_bikes_by_gender <- df_bike_trips_2022_reformed %>%
select(Género) %>%
filter(!is.na(Género)) %>%
ggplot(mapping = aes(x = Género, fill = Género)) +
geom_bar() +
labs(x = "Género", y = "Cantidad de recorridos")
#uso de bicis por hora según género
gr_use_of_bikes_by_gender_per_hour <- df_bike_trips_2022_reformed %>%
filter(!is.na(Género)) %>%
group_by(Género) %>%
mutate(cantidadTotalPorGénero = n()) %>%
group_by(Género,hour,cantidadTotalPorGénero) %>%
summarise(cantidad = n()) %>%
mutate(
cantidadPorcentual = case_when(
Género == "FEMALE" ~ (cantidad/cantidadTotalPorGénero)*100,
Género == "MALE" ~ (cantidad/cantidadTotalPorGénero)*100,
Género == "OTHER" ~ (cantidad/cantidadTotalPorGénero)*100
)
) %>%
select(Género,cantidadPorcentual) %>%
ggplot(mapping = aes(x = hour, y = cantidadPorcentual, colour = Género)) +
geom_line(lwd = 1.49) +
scale_x_continuous(expand = c(0,0)) +
scale_y_continuous(expand = c(0,0)) +
facet_wrap(~Género) +
theme(legend.position = "bottom")
gr_use_of_bikes_by_gender
gr_use_of_bikes_by_gender_per_hour
#(nota: cp indica la cantidad de personas)
v_feriaLibro <- c("2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06","2022-05-07","2022-05-08","2022-05-09","2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16") #cp = 1.245.000
v_comicCon <- c("2022-05-20","2022-05-21","2022-05-22") #cp = 80 mil
v_duaLipa <- c("2022-09-13","2022-09-14") #cp = 50 mil
v_marchaLGBTQI <- c("2022-10-05") #cp = 130 mil
coldplay <- c("2022-10-25","2022-10-26","2022-10-28","2022-10-29","2022-11-01","2022-11-01","2022-11-02","2022-11-04","2022-11-05","2022-11-07","2022-11-08") #cp = 600 mil
v_primaveraSound <- c("2022-11-12","2022-11-13") #cp = 100 mil
v_finalMundial <- c("2022-12-18") #cp = 4 millones
v_feriadoMundial <- c("2022-12-20") #cp = ??
v_diasDestacados <- c(feriaLibro, comicCon, duaLipa, marchaLGBTQI, coldplay, primaveraSound, finalMundial, feriadoMundial)
#(nota: cp indica la cantidad de personas)
v_feriaLibro <- c("2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06","2022-05-07","2022-05-08","2022-05-09","2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16") #cp = 1.245.000
v_comicCon <- c("2022-05-20","2022-05-21","2022-05-22") #cp = 80 mil
v_duaLipa <- c("2022-09-13","2022-09-14") #cp = 50 mil
v_marchaLGBTQI <- c("2022-10-05") #cp = 130 mil
v_coldplay <- c("2022-10-25","2022-10-26","2022-10-28","2022-10-29","2022-11-01","2022-11-01","2022-11-02","2022-11-04","2022-11-05","2022-11-07","2022-11-08") #cp = 600 mil
v_primaveraSound <- c("2022-11-12","2022-11-13") #cp = 100 mil
v_finalMundial <- c("2022-12-18") #cp = 4 millones
v_feriadoMundial <- c("2022-12-20") #cp = ??
v_diasDestacados <- c(v_feriaLibro, v_comicCon, v_duaLipa, vmarchaLGBTQI, v_coldplay, v_primaveraSound, v_finalMundial, v_feriadoMundial)
v_diasDestacados <- c(v_feriaLibro, v_comicCon, v_duaLipa, v_marchaLGBTQI, v_coldplay, v_primaveraSound, v_finalMundial, v_feriadoMundial)
# Feria del libro
bicisFeriaDelLibro <- df_bike_trips_2022_reformed %>%
filter(date %in% feriaLibro) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(feriaLibro)))
# Feria del libro
bicisFeriaDelLibro <- df_bike_trips_2022_reformed %>%
filter(date %in% v_feriaLibro) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_feriaLibro)))
bicisFeriaDelLibro
# Feria del libro
bicisFeriaDelLibro <- df_bike_trips_2022_reformed %>%
filter(date %in% v_feriaLibro) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_feriaLibro)))
# Comic Con
bicisComicCon <- df_bike_trips_2022_reformed %>%
filter(date %in% v_comicCon) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_comicCon)))
# Dua Lipa
bicisDuaLipa <- df_bike_trips_2022_reformed %>%
filter(date %in% v_duaLipa) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_duaLipa)))
# MarchaLGBT
bicisMarchaLGBT <- df_bike_trips_2022_reformed %>%
filter(date %in% v_marchaLGBTQI) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_marchaLGBTQI)))
# Coldplay
bicisColdplay <- df_bike_trips_2022_reformed %>%
filter(date %in% v_coldplay) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_coldplay)))
#PrimaveraSound
bicisPrimSound <- df_bike_trips_2022_reformed %>%
filter(date %in% v_primaveraSound) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_primaveraSound)))
# Mundial
bicisFinalMundial <- df_bike_trips_2022_reformed %>%
filter(date %in% v_finalMundial) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_finalMundial)))
# Feriado Mundial
bicisFeriadoMundial <- df_bike_trips_2022_reformed %>%
filter(date == v_feriadoMundial) %>%
group_by(hour) %>%
summarise(cantidad = round(n()/length(v_feriadoMundial)))
bicisFeriadoMundial
# Este solamente es un dato orientativo para analizar los viajes en cada evento
viajesPromedioFeriaLibro <- sum(bicisFeriaDelLibro$cantidad) # 24 viajes
viajesPromedioFeriaLibro
viajesPromedioComicCon <- sum(bicisComicCon$cantidad) # 17 viajes
viajesPromedioDuaLipa <- sum(bicisDuaLipa$cantidad) # 44 viajes
viajesPromedioLGBT <- sum(bicisMarchaLGBT$cantidad) # 48 viajes
viajesPromedioColdplay <- sum(bicisColdplay$cantidad) # 31 viajes
viajesPromedioPrimSound <- sum(bicisPrimSound$cantidad) # 9 viajes
viajesPromedioMundial <- sum(bicisFinalMundial$cantidad) # 31 viajes
#grafico de temperaturas por mes
gr_temperatura_por_mes <- clima_aeroparque_BA_2022_bymonth_and_raintype %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4) +
labs(x = "Mes", y = "Temperatura")
#grafico de temperaturas por dia
gr_temperatura_por_dia <- clima_aeroparque_BA_2022_bymonth_and_raintype %>%
pivot_longer(cols = 3:4, names_to = "tipo", values_to = "temp") %>%
ggplot(mapping = aes(x = date, y = temp, color = tipo)) +
geom_line() +
scale_color_manual(labels = c("Tmax", "Tmin"), values = c("red", "blue")) +
labs(x = "Dia del año", y = "Temperatura max y min", color = "Temperatura") +
theme_classic()
gr_temperatura_por_dia
#grafico de temperaturas por mes
gr_temperatura_por_mes <- clima_aeroparque_BA_2022_bymonth_and_raintype %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4) +
labs(x = "Mes", y = "Temperatura")
#grafico de temperaturas por dia
gr_temperatura_por_dia <- clima_aeroparque_BA_2022_bymonth_and_raintype %>%
pivot_longer(cols = 3:4, names_to = "tipo", values_to = "temp") %>%
ggplot(mapping = aes(x = date, y = temp, color = tipo)) +
geom_line() +
scale_color_manual(labels = c("Tmax", "Tmin"), values = c("red", "blue")) +
labs(x = "Dia del año", y = "Temperatura max y min", color = "Temperatura") +
theme_classic()
df_clima_aeroparque_BA_2022_reformed <- df_clima_aeroparque_BA_2022 %>%
mutate(month = months(date),
is_rain = (prcp > 0),
rain_strength = case_when(prcp > 0 & prcp <= 3 ~ "debil",
prcp > 3.0 & prcp <= 6.5 ~ "ligera",
prcp > 6.5 & prcp <= 16.0 ~ "moderada",
prcp > 16.0 & prcp <= 40.0 ~ "fuerte",
prcp > 100.0 ~ "torrencial",
.default = "no llovio"))
#grafico de temperaturas por mes
gr_temperatura_por_mes <- df_clima_aeroparque_BA_2022_reformed %>%
select(tmin, tmax, tavg, month) %>%
group_by(month) %>%
summarise(tmin_by_month = mean(tmin), tmax_by_month = mean(tmax), tavg_by_month = mean(tavg)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmax_by_month)) +
geom_point(colour = "red", size = 4) +
geom_point(aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = tmin_by_month), color = "blue", size = 4) +
labs(x = "Mes", y = "Temperatura")
#grafico de temperaturas por dia
gr_temperatura_por_dia <- df_clima_aeroparque_BA_2022_reformed %>%
pivot_longer(cols = 3:4, names_to = "tipo", values_to = "temp") %>%
ggplot(mapping = aes(x = date, y = temp, color = tipo)) +
geom_line() +
scale_color_manual(labels = c("Tmax", "Tmin"), values = c("red", "blue")) +
labs(x = "Dia del año", y = "Temperatura max y min", color = "Temperatura") +
theme_classic()
summary(df_clima_aeroparque_BA_2022_reformed)
str(df_clima_aeroparque_BA_2022_reformed)
gr_temperatura_por_dia
gr_temperatura_por_mes
precipitaciones_por_mes
#precipitaciones por mes
gr_precipitaciones_por_mes <- df_clima_aeroparque_BA_2022_reformed %>%
group_by(month) %>%
filter(!is.na(prcp)) %>%
summarise(precipitation_by_month = mean(prcp)) %>%
ggplot(mapping = aes(x = fct_relevel(month, c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")), y = precipitation_by_month)) +
geom_col(fill = "lightgoldenrod2", colour = "lightseagreen") +
labs(x = "Mes",y = "Precipitacion por mes")
#dias de lluvias
gr_dias_de_lluvias <- df_clima_aeroparque_BA_2022_reformed %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(cant = n()) %>%
ggplot(mapping = aes(x = is_rain, y = cant)) +
geom_col()
precipitaciones_por_mes
gr_precipitaciones_por_mes
gr_dias_de_lluvias
#Dataframe_joined ----
#FULL JOIN DE DATAFRAMES
df_bikes_and_weather <- full_join(df_bike_trips_2022_reformed, df_clima_aeroparque_BA_2022_reformed, by = "date")
#uso de bicis por temperatura_promedio
bikes_by_temp <- df_bikes_and_weather %>%
mutate(t_avg_round = round(tavg)) %>%
group_by(t_avg_round) %>%
summarise(viajes_por_tavg = n()) %>%
ggplot(mapping = aes(x = t_avg_round, y = viajes_por_tavg)) +
geom_line()
gr_bikes_by_temp
#uso de bicis por temperatura_promedio
gr_bikes_by_temp <- df_bikes_and_weather %>%
mutate(t_avg_round = round(tavg)) %>%
group_by(t_avg_round) %>%
summarise(viajes_por_tavg = n()) %>%
ggplot(mapping = aes(x = t_avg_round, y = viajes_por_tavg)) +
geom_line()
gr_bikes_by_temp
#uso de bicis por precipitaciones
uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n())
uso_de_bicis_segun_precipitaciones
gr_dias_de_lluvias <- df_clima_aeroparque_BA_2022_reformed %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(cant = n())
gr_dias_de_lluvias
promedio_de_viajes_dias_lluviosos_vs_no <- c(uso_de_bicis_segun_precipitaciones[1,2]/266, uso_de_bicis_segun_precipitaciones[2,2]/97)
promedio_de_viajes_dias_lluviosos_vs_no
uso_de_bicis_segun_precipitaciones
promedio_de_viajes_dias_lluviosos_vs_no
uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
uso_de_bicis_segun_precipitaciones
gr_uso_de_bicis_segun_precipitaciones <- df_uso_de_bicis_segun_precipitaciones %>%
ggplot(mapping = aes(x = is_rain, y = prom_viajes$viajes_promedios, color = is_rain)) +
geom_col(fill = "white") +
labs(x = "Dia Feriado", y = "Cantidad", title = "Cantidad de viajes diarios por feriados y no feriados")
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_uso_de_bicis_segun_precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n())
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_uso_de_bicis_segun_precipitaciones
df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n())
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/7}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_uso_de_bicis_segun_precipitaciones
df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain)
df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain)
df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_promedios = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = uso_de_bicis_segun_precipitaciones[2,2]/97}
else{uso_de_bicis_segun_precipitaciones[1,2]/266})
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = viajes_lluvia[2,2]/97}
else{viajes_lluvia[1,2]/266})
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = viajes_lluvia[2]/97}
else{viajes_lluvia[1]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){prom_feriado = viajes_lluvia[2]/97}
else{viajes_lluvia[1]/266})
df_uso_de_bicis_segun_precipitaciones
f_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain)
df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain)
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){viajes_lluvia[2]/97}
else{viajes_lluvia[1]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){viajes_lluvia[2]/97}else{viajes_lluvia[1]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
filter(!is.na(prcp)) %>%
summarise(prom_viajes = if(is_rain == TRUE){viajes_lluvia[2]/97}else{viajes_lluvia[1]/266})
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){viajes_lluvia[2]/97}else{viajes_lluvia[1]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){viajes_lluvia[2]/97}else{viajes_lluvia[3]/266})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == FALSE){viajes_lluvia[1]/266}else{viajes_lluvia[2]/97})
df_uso_de_bicis_segun_precipitaciones
gr_uso_de_bicis_segun_precipitaciones <- df_uso_de_bicis_segun_precipitaciones %>%
ggplot(mapping = aes(x = is_rain, y = prom_viajes, color = is_rain)) +
geom_col(fill = "white") +
labs(x = "Dia Feriado", y = "Cantidad", title = "Cantidad de viajes diarios por feriados y no feriados")
gr_uso_de_bicis_segun_precipitaciones
gr_uso_de_bicis_segun_precipitaciones <- df_uso_de_bicis_segun_precipitaciones %>%
ggplot(mapping = aes(x = is_rain, y = prom_viajes, color = is_rain)) +
geom_col(fill = "white") +
labs(x = "Llovio?", y = "Cantidad", title = "Cantidad de viajes diarios durante dias de lluvia y no lluvia")
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == FALSE){viajes_lluvia[1]/266}else_if(is_rain == TRUE){viajes_lluvia[2]/97})
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == FALSE){viajes_lluvia[1]/266}else if(is_rain == TRUE){viajes_lluvia[2]/97})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){viajes_lluvia[2]/97})
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == TRUE){viajes_lluvia[2]/97}else{0})
df_uso_de_bicis_segun_precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n())
df_uso_de_bicis_segun_precipitaciones
viajes_lluvia[2]
df_uso_de_bicis_segun_precipitaciones$viajes_lluvia[2]
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == FALSE){viajes_lluvia[1]/266}else{df_uso_de_bicis_segun_precipitaciones$viajes_lluvia[2][2]/97})
df_uso_de_bicis_segun_precipitaciones
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == FALSE){viajes_lluvia[1]/266}else{df_uso_de_bicis_segun_precipitaciones$viajes_lluvia[2]/97})
#uso de bicis por precipitaciones
df_uso_de_bicis_segun_precipitaciones <- df_bikes_and_weather %>%
filter(!is.na(prcp)) %>%
group_by(is_rain) %>%
summarise(viajes_lluvia = n()) %>%
group_by(is_rain) %>%
summarise(prom_viajes = if(is_rain == FALSE){(viajes_lluvia[1])/266}else{(df_uso_de_bicis_segun_precipitaciones$viajes_lluvia[2])/97})
#uso de bicis segun la potencialidad de lluvias
gr_de_uso_De_bicis_segun_lluvia <- df_clima_aeroparque_BA_2022_reformed %>%
filter(rain_strength != "no llovio") %>%
ggplot(mapping = aes(x = fct_relevel(rain_strength, c("debil", "ligera", "moderada", "fuerte", "torrencial")))) +
geom_bar()
gr_de_uso_De_bicis_segun_lluvia
gr_de_uso_De_bicis_segun_lluvia
gr_de_uso_De_bicis_segun_lluvia
df_bikes_and_weather %>% select(date, rain_strength) %>% distinct() %>% group_by(rain_strength) %>% summarise(cant = n())
df_bikes_and_weather %>% group_by(rain_strength) %>% summarise(cant = n())

# INTRODUCCIÓN

---
title: "TP1"
subject: "Laboratorio de Datos"
integrantes: "Salvador, Miguel, Thomas"
format: html
editor: visual
---

------------------------------------------------------------------------

## INFORMACIÓN SOBRE LAS LIBRERÍAS

Para nuestra proyecto de análisis de datos, utilizaremos las librerías

tidyverse es un paquete que incluye librerías como ggplot2 (visualización de datos), dplyr (manipulación de datos), ...

------------------------------------------------------------------------

## INFORMACIÓN SOBRE LOS DATA FRAMES

Durante esta investigación vamos a trabajar con dos dataframes relacionados al uso de Eco-bicis en CABA y el clima registrada en aeroparque, ambos registros son del anio 2022.

Para este análisis solamente observaremos el comportamiento de aquellos registros cuya duración del viaje este entre 5 minutos a 1 hora, para evitar valores atípicos.

------------------------------------------------------------------------

## SCRIPTS

```{r}
source(file = "Script_TP1.R", local = TRUE)

source(file = "Hoja Auxiliar.R", local = TRUE)
```

------------------------------------------------------------------------

## INFORMACION SOBRE DATAFRAME VIAJES DE ECO-BICIS 2022

### Variables del Dataframe
::: {style="color: white;"}

"Id_recorrido" \--\> Identificador unico de cada recorrido
"duracion_recorrido" \--\> Duracion (en segundos) de cada recorrido
"fecha_origen_recorrido" \--\> Dia y horario del momento en que se inicio el recorrido
"id_estacion_origen" \--\> Identificador unico de la estacion donde se inicio el recorrido
"nombre_estacion_origen" \--\> Nombre de la estacion donde se inicio el recorrido
"direccion_estacion_origen" \--\> Direccion de la ubicacion de la estacion donde se inicio el recorrido
"long_estacion_origen" \--\> Coordenadas longitudinales de la estacion donde se inicio el recorrido
"lat_estacion_origen" \--\> Coordenadas latitudinales de la estacion donde se inicio el recorrido
"fecha_destino_recorrido" \--\> Dia y horario del momento en que se finalizo el recorrido
"id_estacion_destino" \--\> Identificador unico de la estacion donde se finalizo el recorrido
"nombre_estacion_destino" \--\> Nombre de la estacion donde se finalizo el recorrido
"direccion_estacion_destino" \--\> Direccion de la ubicacion de la estacion donde se finalizo el recorrido
"long_estacion_destino" \--\> Coordenadas longitudinales de la estacion donde se finalizo el recorrido
"lat_estacion_destino" \--\> Coordenadas latitudinales de la estacion donde se finalizo el recorrido
"id_usuario" \--\> Identidicador unico del usuario
"modelo_bicicleta" \--\> Modelo de la bicicleta (FIT/ICONIC)
"Género" \--\> Genero del usuario(Masculino - Femenino - Otro - NA)
"Date" \--\> Fecha del momento en que se inicio el recorrido (en el dataframe original esta variable tenia el nombre fecha, pero lo modificamos para cuando luego hagamos el join entre dataframes tengamos las keys de las columnas con los mismo nombres)
"Month" \--\> Mes de fecha de origen de recorrido
"Hour" \--\> Horario de fecha de origen de recorrido
"Week_day" \--\> Dia de la semana del origen de recorrido
"Public_holiday" \--\> El dia del recorrido era feriado?
:::


Comenzamos mostrando una visualización del dataframe, con el que vamos a trabajar, analizar y elaborar hipotesis.

```{r}
head(month_day_hour_bike_trips_2022_5_to_60_min)
```


Análisis general del nuevo dataframe de viajes en eco-bicis 2022. Para este análisis general usamos las funciones summary() y str() que nos brindaron información general sobre el dataframe que vamos a analizar, como sus tipos de datos, valores minimos, maximos, medias, entre otros valores redundantes.

```{r}
summary(df_bike_trips_2022_reformed)
```
```{r}
str(df_bike_trips_2022_reformed)
```



## ANÁLISIS DESCRIPTIVO DE VIAJES DE ECO-BICIS 2022

#### Duración de los recorridos

```{r}
gr_trips_duration_in_minutes_box
gr_trips_duration_in_minutes_by_gender
gr_trips_duration_in_minutes_col
```

```{r}
df_promedio_y_mediana_de_viajes
```

#### Fecha de recorridos

```{r}
gr_trips_by_month 
gr_trips_by_day
gr_trips_by_hour
gr_trips_by_month_and_hour
gr_trips_by_day_and_hour
```

#### Feriados vs no feriados

```{r}
gr_viajes_promedio_feriados
```

#### Estación de Origen

```{r}
df_origin_trip
```

#### Estación de Destino

```{r}
df_destination_trip
```

#### Viajes Mas comunes

```{r}
df_common_trips
```


#### Modelo de Bicicleta

```{r}
gr_bike_type 
```

#### Genero

```{r}
gr_use_of_bikes_by_gender 
gr_use_of_bikes_by_gender_per_hour
```

#### Uso en días destacados del año
```{r}
graficoEventos
```


------------------------------------------------------------------------

## ANÁLISIS DESCRIPTIVO DE DATAFRAME VIAJES DE CLIMA AEROPARQUE 2022

### Variables del Dataframe (clima_aeroparque_BA_2022)
  
::: {style="color: white;"}
"date" \--\> Fecha de la medicion (AAAA-MM-DD)
"tavg" \--\> Temperatura promedio (ºC)
"tmax" \--\> Temperatura maxima (ºC)
"tmin" \--\> Temperatura minima (ºC)
"prcp" \--\> Precipitacion total (mm)
"snow" \--\> Profundidad de la nieve (mm)
"wdir" \--\> Direccion del viento (º)
"wspd" \--\> Velocidad del viento promedio (km/h)
"wpgt" \--\> Dias en que la velocidad promedio supero los 30km/h
"pres" \--\> Presion del aire promedio (hpa)
"tsun" \--\> Duracion del sol (NA)
"month" \--\> Mes de la fecha de la observacion
"is_rain" \--\> Hubo precipitaciones en la observacion?
"rain_stregth" \--\> Potencia de la lluvia
:::



```{r}
summary(df_clima_aeroparque_BA_2022_reformed)

str(df_clima_aeroparque_BA_2022_reformed)
```

#### Clima durante el year

```{r}
gr_temperatura_por_dia
gr_temperatura_por_mes 
```

#### Precipitaciones durante el year

```{r}
gr_precipitaciones_por_mes
```

### Uso de bicis by weather
Notamos que este grafico en particular tiene un problema, las temperaturas promedias durante los 365 no se distribuyen de forma equitativa,por ejemplo es mucho mas comun tener un dia con promedio de 20 grados que un dia con promedio de 8 grados, entonces sumar el uso de bicis dependiendo de la temperatura promedio estaria sesgado.
```{r}
gr_bikes_by_temp
```


```{r}
gr_uso_de_bicis_segun_precipitaciones
```


```{r}
gr_de_uso_De_bicis_segun_lluvia
```

